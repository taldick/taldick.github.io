<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title dir="ltr">Test page</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <style>
        .main {
            max-width: 1500px;
            margin: 15px auto;
        }
        .label {
            padding: 10px;
        }
    </style>
    <script src="../dist/contentgen.js"></script>
</head>

<body>
<script type="text/javascript">
    window.CEDATO_INIT = (window.CEDATO_INIT || {});
    window.CEDATO_INIT['video58919158[CB]'] = function () {
        this.overrideInitParams({
            schedule: {
                content: { wait: 3 },
                time: { start: [10, 20], wait: 10, wake: 5 },
            }
        });
        this.setExtContent(() => {

            let cg = new ContentGenerator({
					autoplay: true,
					audio: {
						src: "https://test.playleaks.com/dev/contentgen/examples/music.mp3",
						muted: true
					},
					customize: {
						logo: "https://freepicks.picksandparlays.net/themes/simplestripe/images/logo.png",
						backgroundColor: "0x000000",
						introTextColor: "#FFFFFF"
					},
					content: {
                        getMainPage() {
                            return 'https://freepicks.picksandparlays.net/';
                        },

					    getContentList(doc) {
                            return Array.from($.querySelectorAll(".newsArticle")).map((elm) => {
                                    img = elm.querySelector("img");
                            //cat = elm.querySelecxtor("[rel='category tag']");
                            title = elm.querySelector("h3");
                            link = elm.querySelector("a");

                            if (img && title && link) {

                                return {
                                    cover: img.getAttribute('src'),
                                    categories: [title.innerText.split("-")[1]],
                                    title: title.innerText.split("-")[0],
                                    link: title.querySelector("a").getAttribute('href')
                                }
                            }
                        });

                        }
					},
					width: 500,
					height: 300,
					theme: "articles"
			
            });

            return cg.getDomElement();

        });
    };
</script>
<div class="main">
    <div>
        <div id="video58919158[CB]" style="width:500px; height:300px;">
            <script src="https://p.algovid.com/player/player.js?p=58919158&sid=EXTRACTED_DOMAIN&cb=[CB]&d=[URL]&w=580&h=370&skipOffset=3&co=1&asr=1&pv=114.36"></script>
        </div>
    </div>
</div>
</body>